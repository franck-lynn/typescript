# 与 codegen.ts 相同的设置
overwrite: true

emitLegacyCommonJSImports: false
ignoreNoDocuments: true
generates:
  ./client/src/typings/:
    documents: ["./client/src/**/*.vue", "./client/src/**/*.graphql"]
    schema: "./server/src/gql/**/typedefs/*.gql"
    preset: "client"
    config:
      useTypeImports: true,
    plugins: []
  ./server/src/gql/:
    schema: "./server/src/gql/**/typedefs/*.gql"
    preset: "graphql-modules"
    presetConfig:
      baseTypesPath: "../types/index.ts"
      filename: "generated.ts"
    plugins:
      - typescript
      - typescript-resolvers
    config:
      # mappers 需要在 config: 的下面做才不会报错
      mappers:
        User: "../db/#IUser"

  # ./server/src/sdl/types/types.ts:
  #   schema: "./server/src/sdl/codegen/codegen.ts"
  #   plugins:
  #     - typescript
