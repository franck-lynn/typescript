# 请求参数有哪些?

## 请求字符串

```http
GET {{url}}/querystring?name=franck-lynn&password=123456
 
```

在服务器端

```ts
helloRouter.get("/querystring", async (req: Request, res: Response) => {
  const { name, password } = req.query
  console.log(name, password)
  res.end(JSON.stringify(name) + JSON.stringify(password))
})
```

得到的结果是一个对象: 

```txt
"franck-lynn""123456"
```

## 请求参数

```http
GET {{url}}/queryparams/commentId HTTP/1.1
```

在服务器端

```ts
helloRouter.get("/queryparams/:commentId", async (req: Request, res: Response) => {
  const { commentId } = req.params
  res.end(JSON.stringify(commentId))
})
```

得到的结果是一个对象

```txt
"commentId"
```

## 请求参数 + 请求字符串

```http
GET {{url}}/queryparams/commentId?name=franck-lynn&password=123456 HTTP/1.1 
```

服务器端还是和请求参数是一样的

```ts
helloRouter.get("/queryparams/:commentId", async (req: Request, res: Response) => {
  const { commentId } = req.params
  const { name, password } = req.query
  res.end(JSON.stringify(commentId) + JSON.stringify(name) + JSON.stringify(password))
})
```

得到的结果是一个对象

```txt
"commentId""franck-lynn""123456"
```

## 请求的 url

```http
请求的 url 是指 除了 http://localhost:3000 部分

前面带了一个 /
请求的 url =  /queryparams/commentId?name=franck-lynn&password=123456
```

 



## 请求体 req.body

```http
POST {{url}}/reqbody HTTP/1.1
Content-Type: application/json

{
  "name": "franck",
  "password": "123"
}
```

请求体是由 

```ts
// body parser, 解析请求体, 要在路由注册之前调用
// 内置的也可以, 都要在路由之前注册 解析中间件
app.use(bodyParser.json())
```

进行解析的



## 文件传输的请求体

文件的请求头是

```http
POST {{url}}/uploads HTTP/1.1
Content-Type: multipart/form-data; boundary=----WebKitFormBoundarymZBeJBrIvRUzdN3r

------WebKitFormBoundarymZBeJBrIvRUzdN3r
Content-Disposition: form-data; name="file"; filename="20230313170434.jpg"
Content-Type: image/jpeg

< ./05.img5.jpg
------WebKitFormBoundarymZBeJBrIvRUzdN3r--


filename="20230313170434.jpg" 是上传后的文件名
```

解析文件上传 multipart/form-data 请求是需要中间件的, 

例如:

```ts
import uploader from "express-fileupload"
// 或者
import multer from "multer" 
// multer 可以自动获取 FormData 的信息
// express-fileupload 则需要手动获取, 
// 例如: 
/* : { name: string; type: string; size: string } */
const { name, type, filename, uploadedSize } = req.body

```

这样才可以通过 req.files.avator 拿到, avator 是 input 框的 name 